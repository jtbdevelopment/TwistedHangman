<div class="row" xmlns="http://www.w3.org/1999/html">
  <div class="col-sm-12 alert {{alertType}}">{{alertMessage}}</div>
</div>
<div class="row">
  <div class="col-sm-6 text-center"><h5><b>Round {{game.round}} - {{phaseDescription}}</b></h5></div>
  <div class="col-sm-6 text-center"><h5><b>{{generalInfo}}</b></h5></div>
</div>
<div class="row">
  <div class="col-sm-6 imagearea">
    <img ng-src="images/{{image}}"/>
  </div>
  <div class="col-sm-6 playarea">
    <!--  TODO - separate show to each button to not show accepted -->
    <div ng-show="showChallengeButtons" class="btn-group">
      <button ng-click="accept()" class="btn btn-group acceptButton"><span class="glyphicon glyphicon-thumbs-up"></span>
        Accept
      </button>
      <button ng-click="reject()" class="btn btn-group rejectButton"><span
        class="glyphicon glyphicon-thumbs-down"></span> Reject
      </button>
    </div>

    <div ng-show="showRematchButtons" class="btn-group">
      <button ng-click="startNextRound()" class="btn btn-group rematchButton"><span
        class="glyphicon glyphicon-repeat"></span> Start Next Round
      </button>
    </div>

    <h3>{{gameState.category}}</h3>

    <h3>{{gameState.wordPhrase}}</h3> <!--  Server Blanks it most of the time  -->

    <div class="{{allowPlayMoves ? 'activeKeyboard' : 'inactiveKeyboard'}}">
      <p>
          <span ng-repeat="position in workingWordPhraseArray track by $index"
                class="wordphrase {{workingWordPhraseClasses[$index]}}"
                ng-click="stealLetter({{$index}})">{{position}}</span>
      </p>

         <span ng-repeat="letter in letters track by $index">
           <span ng-click="sendGuess('{{letter}}')" class="keyboard {{letterClasses[$index]}}">{{letter}}</span> </span>

      </p>
    </div>
    <div class="gameState">
      <table class="table">
        <tr>
          <td><b>Your Game:</b></td>
          <td class="text-left">{{gameEndForPlayer(player.md5)}}</td>
          <td><b>Moves:</b></td>
          <td class="text-left">{{gameState.moveCount}}</td>
          <td><b>Chances Left:</b></td>
          <td class="text-left">{{gameState.penaltiesRemaining}}</td>
          <td>
            <!--  TODO - confirm quit -->
            <div class="btn-group">
              <button ng-show="showQuitButton" class="btn btn-group quitButton" ng-click="quit()">I Quit!</button>
            </div>
          </td>
        </tr>
      </table>
    </div>

  </div>
</div>
<div class="row">
  <div class="col-sm-12">
    <table class="table">
      <tbody>
      <tr>
        <!--  TODO - quit timestamp?  -->
        <td><b>Created:</b></td>
        <td>{{created |date:'short'}}</td>
        <td><b>Last Change:</b></td>
        <td>{{lastUpdate |date:'short'}}</td>
        <td><b>Completed:</b></td>
        <td>{{completed |date:'short'}}</td>
        <td><b>Declined:</b></td>
        <td>{{declined |date:'short'}}</td>
        <td><b>Next Round Started:</b></td>
        <td>{{rematched |date:'short'}}</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
<div class="row">
  <div ng-show="showPuzzleEnty">
    <div ng-show="allowPuzzleEntry">
      <p><label>Category:<input ng-model="enteredCategory" type="text"/></label></p>

      <p><label>Word/Phrase:<input ng-model="enteredWordPhrase" type="text"/></label></p>
      <button ng-click="setPuzzle()">Set the Puzzle!</button>
    </div>
    <div ng-hide="allowPuzzleEntry">
      <p><span>Waiting for puzzles to finish being set.</span></p>
    </div>
  </div>
  <div ng-show="showPlayerStates">
    <table>
      <thead>
      <tr>
        <th>Player</th>
        <th>Status</th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="(md5, state) in game.playerStates | orderBy:state">
        <td>{{game.players[md5]}}</td>
        <td>{{state}}</td>
      </tr>
      </tbody>
    </table>
  </div>
  <div ng-show="showGameSummary">
    <table>
      <thead>
      <tr>
        <th>Player</th>
        <th>Role</th>
        <th>Outcome</th>
        <th>Score</th>
        <th>Running Score</th>
      </tr>
      <tr ng-repeat="(md5, name) in game.players">
        <td>{{name}}</td>
        <td>{{roleForPlayer(md5)}}</td>
        <td>{{gameEndForPlayer(md5)}}</td>
        <td>{{gameScoreForPlayer(md5)}}</td>
        <td>{{runningScoreForPlayer(md5)}}</td>
      </tr>
      </thead>
    </table>
  </div>
</div>

